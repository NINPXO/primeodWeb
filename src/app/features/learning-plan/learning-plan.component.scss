.page {
  max-width: 1100px;
  margin: 0 auto;
  padding: 20px;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2.5rem;
  background: white;
  padding: 2rem;
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.04);

  .overall-stats {
    display: flex;
    gap: 3rem;

    .stat-item {
      display: flex;
      flex-direction: column;
      align-items: center;

      .stat-value {
        font-size: 2rem;
        font-weight: 800;
        color: #3760f1;
      }
      .stat-label {
        font-size: 0.9rem;
        color: #64748b;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
    }
  }
}

.summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 2rem;
  align-items: start;
}

.goal-summary-card {
  background: white;
  border-radius: 24px;
  padding: 1.75rem;
  box-shadow: 0 10px 30px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);

  &:hover { transform: translateY(-4px); }
  &.is-expanded {
    grid-column: 1 / -1;
    max-width: 100%;
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.5rem;

    .goal-identity {
      h2 { margin: 0 0 0.5rem 0; font-size: 1.5rem; color: #1e293b; font-weight: 800; }
      .duration-badge {
        font-size: 0.75rem;
        background: #f1f5f9;
        color: #64748b;
        padding: 0.3rem 0.75rem;
        border-radius: 10px;
        font-weight: 600;
      }
    }

    .progress-circle { width: 70px; height: 70px; }
  }

  .card-body {
    flex: 1;
    h3 {
      font-size: 0.85rem;
      text-transform: uppercase;
      color: #94a3b8;
      letter-spacing: 1px;
      margin: 1.5rem 0 0.75rem 0;
      border-bottom: 1px solid #f1f5f9;
      padding-bottom: 0.5rem;
    }

    .stats-row .mini-stat {
      .val { display: block; font-size: 1.25rem; font-weight: 700; color: #1e293b; }
      .lab { font-size: 0.85rem; color: #64748b; }
    }

    .upcoming-section .next-sg {
      background: #f8fafc;
      padding: 0.75rem 1rem;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      .sg-title { font-weight: 700; color: #334155; font-size: 0.95rem; }
      .sg-date { font-size: 0.8rem; color: #64748b; }
    }

    .logs-section .log-entry {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      margin-bottom: 0.5rem;
      .log-date { color: #94a3b8; min-width: 80px; }
      .log-title { color: #475569; font-weight: 500; text-align: right; }
    }

    /* Detailed View Styles */
    .detailed-tree {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      
      h3 { grid-column: 1 / -1; }

      .sg-detail-item {
        background: #fbfbfc;
        border-radius: 16px;
        padding: 1.25rem;
        border: 1px solid #f1f5f9;

        .sg-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
          .sg-title { font-weight: 700; color: #1e293b; font-size: 1rem; }
          .sg-progress { font-size: 0.8rem; font-weight: 800; color: #3760f1; background: #eef2ff; padding: 0.2rem 0.5rem; border-radius: 6px; }
        }

        .task-mini-list {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;

          .task-mini-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.85rem;
            color: #475569;

            .status-dot { width: 8px; height: 8px; border-radius: 50%; background: #cbd5e1; }
            &.completed .status-dot { background: #10b981; }
            &.in_progress .status-dot { background: #3b82f6; }
            &.completed .task-title { text-decoration: line-through; opacity: 0.6; }
          }
        }
      }
    }

    .none { font-size: 0.85rem; color: #cbd5e1; font-style: italic; }
  }

  .card-footer {
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid #f1f5f9;
    .btn-text { background: none; border: none; color: #3760f1; font-weight: 700; font-size: 0.9rem; cursor: pointer; padding: 0; &:hover { text-decoration: underline; } }
  }
}

/* Circular Chart Styles */
.circular-chart { display: block; max-width: 100%; max-height: 250px; }
.circle-bg { fill: none; stroke: #f1f5f9; stroke-width: 3.8; }
.circle { fill: none; stroke-width: 2.8; stroke-linecap: round; stroke: #3760f1; transition: stroke-dasharray 0.6s ease; }
.percentage { fill: #1e293b; font-family: inherit; font-size: 0.55rem; font-weight: 800; text-anchor: middle; }
